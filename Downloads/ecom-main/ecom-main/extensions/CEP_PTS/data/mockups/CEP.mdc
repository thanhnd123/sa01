---
description: 
globs: 
alwaysApply: true
---

# ğŸ¨ Thiáº¿t Káº¿ CEP Extension Cho Photoshop Cháº¡y Script

Extension nÃ y táº¡o má»™t panel trong Photoshop.

---

## ğŸ“ Cáº¥u TrÃºc ThÆ° Má»¥c

```
MyCEP/
â”œâ”€â”€ CSXS/
â”‚   â””â”€â”€ manifest.xml
â”œâ”€â”€ index.html
â”œâ”€â”€ js/
â”‚   â””â”€â”€ main.js
â”œâ”€â”€ css/
â”‚   â””â”€â”€ style.css
â”œâ”€â”€ jsx/
â”‚   â””â”€â”€ hostScript.jsx
â””â”€â”€ CSInterface.js
```

---

## ğŸ“ `CSXS/manifest.xml`

```xml
<?xml version="1.0" encoding="UTF-8"?>
<ExtensionManifest Version="7.0" ExtensionBundleId="com.example.mycep" ExtensionBundleVersion="1.0.0" xmlns="http://www.adobe.com/ExtensionManifest/7.0">
  <ExtensionList>
    <Extension Id="com.example.mycep.panel"/>
  </ExtensionList>
  <ExecutionEnvironment>
    <HostList>
      <Host Name="PHXS" Version="[0.0,99.0]"/>
    </HostList>
    <LocaleList>
      <Locale Code="All"/>
    </LocaleList>
    <RequiredRuntimeList>
      <RequiredRuntime Name="CSXS" Version="6.0"/>
    </RequiredRuntimeList>
  </ExecutionEnvironment>
  <DispatchInfoList>
    <Extension Id="com.example.mycep.panel">
      <DispatchInfo>
        <Resources>
          <MainPath>index.html</MainPath>
          <ScriptPath>js/main.js</ScriptPath>
        </Resources>
        <Lifecycle>
          <AutoVisible>true</AutoVisible>
        </Lifecycle>
        <UI>
          <Type>Panel</Type>
          <Menu>My CEP Panel</Menu>
          <Geometry>
            <Size>
              <Width>300</Width>
              <Height>200</Height>
            </Size>
          </Geometry>
        </UI>
      </DispatchInfo>
    </Extension>
  </DispatchInfoList>
</ExtensionManifest>
```

---

## ğŸŒ `index.html`

```html
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>CEP Panel</title>
  <link rel="stylesheet" href="css/style.css" />
  <script type="text/javascript" src="CSInterface.js"></script>
  <script type="text/javascript" src="js/main.js"></script>
</head>
<body>
  <h1>My CEP Panel</h1>
  <button id="btnHello">Say Hello</button>
</body>
</html>
```

---

## ğŸ¨ `css/style.css`

```css
body {
  background: #222;
  color: white;
  font-family: sans-serif;
  padding: 20px;
}

button {
  background-color: #0088ff;
  color: white;
  border: none;
  padding: 10px 15px;
  cursor: pointer;
}
```

---

## âš™ï¸ `js/main.js`

```js
(function () {
  const csInterface = new CSInterface();

  document.getElementById('btnHello').addEventListener('click', () => {
    csInterface.evalScript('sayHello()');
  });
})();
```

---

## âœï¸ `jsx/hostScript.jsx`

```jsx
function sayHello() {
  alert("Hello from CEP!");
}
```

---

## ğŸ§  `CSInterface.js`

Táº£i tá»« Adobe CEP Resources:

ğŸ”— https://github.com/Adobe-CEP/CEP-Resources/tree/master/CEP_9.x/CSInterface.js

---

## ğŸ–¥ï¸ CÃ i Äáº·t Extension

### BÆ°á»›c 1: Copy vÃ o thÆ° má»¥c extension

- **macOS**:  
  `~/Library/Application Support/Adobe/CEP/extensions/MyCEP`

- **Windows**:  
  `C:\Program Files (x86)\Common Files\Adobe\CEP\extensions\MyCEP`

---

### BÆ°á»›c 2: Cho phÃ©p extension chÆ°a kÃ½

- **macOS:**
```bash
defaults write com.adobe.CSXS.9 PlayerDebugMode 1
```

- **Windows (Registry):**
```
[HKEY_CURRENT_USER\Software\Adobe\CSXS.9]
"PlayerDebugMode"=dword:00000001
```

---

### BÆ°á»›c 3: Má»Ÿ trong Photoshop

VÃ o menu:
```
Window â†’ Extensions (Legacy) â†’ My CEP Panel
```

---

## âœ… Káº¿t Quáº£

Khi báº¡n nháº¥n nÃºt `Say Hello` trong panel, má»™t há»™p thoáº¡i sáº½ hiá»ƒn thá»‹:

> `Hello from CEP!`

---

## ğŸ§© Gá»£i Ã Má»Ÿ Rá»™ng

- Giao tiáº¿p vá»›i pháº§n má»m bÃªn ngoÃ i qua WebSocket.
- TÃ­ch há»£p export áº£nh, upload API, rename layer, Ä‘á»c metadata...
- Cháº¡y nhiá»u ExtendScript Ä‘á»ƒ Ä‘iá»u khiá»ƒn Photoshop tá»« app khÃ¡c.

---

